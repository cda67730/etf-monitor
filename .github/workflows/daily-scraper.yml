name: ETF Scraper
on: 
  schedule: 
    - cron: '30 12 * * 1-5'  # å°ç£æ™‚é–“æ™šä¸Š 9:30, é€±ä¸€åˆ°é€±äº”
  workflow_dispatch:  # å…è¨±æ‰‹å‹•è§¸ç™¼

jobs:
  scrape:
    runs-on: ubuntu-latest
    steps:
    - name: Trigger ETF Scraper
      run: |
        echo "ğŸ• åŸ·è¡Œæ™‚é–“: $(date -u)"
        echo "ğŸŒ å°ç£æ™‚é–“: $(TZ='Asia/Taipei' date)"
        
        # æ”¹ç‚ºæ­£ç¢ºçš„ç«¯é» /manual-scrape
        curl -X POST \
          "${{ secrets.RAILWAY_SERVICE_URL }}/manual-scrape" \
          && echo "âœ… æˆåŠŸè§¸ç™¼ ETF çˆ¬èŸ²" \
          || echo "âŒ è§¸ç™¼å¤±æ•—"
